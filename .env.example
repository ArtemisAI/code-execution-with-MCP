# Environment Configuration Template
# Copy this file to .env and fill in your values

# ===========================================
# Server Configuration
# ===========================================
PORT=3000
NODE_ENV=development
HOST=0.0.0.0

# ===========================================
# Sandbox Configuration
# ===========================================
SANDBOX_IMAGE=sandbox-image-name
SANDBOX_TIMEOUT_MS=30000
SANDBOX_MEMORY_MB=100
SANDBOX_CPU_QUOTA=50000

# Network mode: none (isolated), bridge (host access), or custom network name
SANDBOX_NETWORK_MODE=bridge

# ===========================================
# LLM Provider Configuration
# Choose your LLM provider and configure accordingly
# ===========================================

# OpenAI
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4
# OPENAI_BASE_URL=https://api.openai.com/v1

# Anthropic Claude
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_MODEL=claude-3-opus-20240229
# ANTHROPIC_BASE_URL=https://api.anthropic.com

# Google Gemini
# GOOGLE_API_KEY=...
# GOOGLE_MODEL=gemini-pro

# Azure OpenAI
# AZURE_OPENAI_API_KEY=...
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_DEPLOYMENT=your-deployment-name

# ===========================================
# MCP Server Configuration
# ===========================================

# Example: File System MCP Server
# MCP_FS_ENABLED=true
# MCP_FS_COMMAND=npx
# MCP_FS_ARGS=-y,@modelcontextprotocol/server-filesystem,/path/to/files

# Example: Database MCP Server
# MCP_DB_ENABLED=true
# MCP_DB_COMMAND=npx
# MCP_DB_ARGS=-y,@modelcontextprotocol/server-postgres
# DATABASE_URL=postgresql://user:pass@localhost:5432/dbname

# Example: Custom MCP Server
# MCP_CUSTOM_ENABLED=true
# MCP_CUSTOM_COMMAND=/path/to/your/mcp-server
# MCP_CUSTOM_ARGS=--config,/path/to/config.json

# ===========================================
# Storage Configuration
# ===========================================

# Base directory for user skills (persistent)
SKILLS_BASE_DIR=./skills

# Base directory for ephemeral workspaces
WORKSPACE_BASE_DIR=./workspace

# ===========================================
# Security Configuration
# ===========================================

# Enable/disable PII detection
PII_DETECTION_ENABLED=true

# Custom PII patterns (comma-separated regex patterns)
# PII_CUSTOM_PATTERNS=

# Session token secret (use a strong random value in production)
SESSION_SECRET=your-secret-key-change-in-production

# Token expiration (in seconds)
TOKEN_EXPIRATION=3600

# ===========================================
# Redis Configuration (for production PII storage)
# ===========================================

# REDIS_ENABLED=false
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_TLS_ENABLED=false
# REDIS_DB=0

# ===========================================
# Logging Configuration
# ===========================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, pretty
LOG_FORMAT=pretty

# Enable security audit logging
SECURITY_AUDIT_ENABLED=true

# ===========================================
# Rate Limiting
# ===========================================

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Requests per window
RATE_LIMIT_MAX=100

# Window size in milliseconds (15 minutes default)
RATE_LIMIT_WINDOW_MS=900000

# ===========================================
# Monitoring & Metrics
# ===========================================

# Enable Prometheus metrics endpoint
# METRICS_ENABLED=false
# METRICS_PORT=9090

# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# ===========================================
# Development Settings
# ===========================================

# Enable debug mode (verbose logging, etc.)
DEBUG=false

# Enable code validation before execution
CODE_VALIDATION_ENABLED=true

# Allow unsafe operations in development
ALLOW_UNSAFE_DEV=false
